{"$message_type":"diagnostic","message":"cannot borrow `s` as mutable more than once at a time","code":{"code":"E0499","explanation":"A variable was borrowed as mutable more than once.\n\nErroneous code example:\n\n```compile_fail,E0499\nlet mut i = 0;\nlet mut x = &mut i;\nlet mut a = &mut i;\nx;\n// error: cannot borrow `i` as mutable more than once at a time\n```\n\nPlease note that in Rust, you can either have many immutable references, or one\nmutable reference. For more details you may want to read the\n[References & Borrowing][references-and-borrowing] section of the Book.\n\n[references-and-borrowing]: https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html\n\nExample:\n\n```\nlet mut i = 0;\nlet mut x = &mut i; // ok!\n\n// or:\nlet mut i = 0;\nlet a = &i; // ok!\nlet b = &i; // still ok!\nlet c = &i; // still ok!\nb;\na;\n```\n"},"level":"error","spans":[{"file_name":"src/main.rs","byte_start":64,"byte_end":70,"line_start":4,"line_end":4,"column_start":14,"column_end":20,"is_primary":false,"text":[{"text":"    let r1 = &mut s;","highlight_start":14,"highlight_end":20}],"label":"first mutable borrow occurs here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":85,"byte_end":91,"line_start":5,"line_end":5,"column_start":14,"column_end":20,"is_primary":true,"text":[{"text":"    let r2 = &mut s; //Focus here","highlight_start":14,"highlight_end":20}],"label":"second mutable borrow occurs here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":129,"byte_end":131,"line_start":7,"line_end":7,"column_start":23,"column_end":25,"is_primary":false,"text":[{"text":"    println!(\"{},{}\", r1, r2);","highlight_start":23,"highlight_end":25}],"label":"first borrow later used here","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/std/src/macros.rs","byte_start":4407,"byte_end":4440,"line_start":143,"line_end":143,"column_start":28,"column_end":61,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/std/src/macros.rs","byte_start":4407,"byte_end":4440,"line_start":143,"line_end":143,"column_start":28,"column_end":61,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"src/main.rs","byte_start":111,"byte_end":136,"line_start":7,"line_end":7,"column_start":5,"column_end":30,"is_primary":false,"text":[{"text":"    println!(\"{},{}\", r1, r2);","highlight_start":5,"highlight_end":30}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"println!","def_site_span":{"file_name":"/rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/std/src/macros.rs","byte_start":4285,"byte_end":4305,"line_start":138,"line_end":138,"column_start":1,"column_end":21,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::format_args_nl!","def_site_span":{"file_name":"/rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library/core/src/macros/mod.rs","byte_start":36059,"byte_end":36086,"line_start":1027,"line_end":1027,"column_start":5,"column_end":32,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"desugaring of format string literal","def_site_span":{"file_name":"src/main.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":"\u001b[1m\u001b[91merror[E0499]\u001b[0m\u001b[1m: cannot borrow `s` as mutable more than once at a time\u001b[0m\n \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:5:14\n  \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m4\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let r1 = &mut s;\n  \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[94m------\u001b[0m \u001b[1m\u001b[94mfirst mutable borrow occurs here\u001b[0m\n\u001b[1m\u001b[94m5\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let r2 = &mut s; //Focus here\n  \u001b[1m\u001b[94m|\u001b[0m              \u001b[1m\u001b[91m^^^^^^\u001b[0m \u001b[1m\u001b[91msecond mutable borrow occurs here\u001b[0m\n\u001b[1m\u001b[94m6\u001b[0m \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m7\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     println!(\"{},{}\", r1, r2);\n  \u001b[1m\u001b[94m|\u001b[0m                       \u001b[1m\u001b[94m--\u001b[0m \u001b[1m\u001b[94mfirst borrow later used here\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 1 previous error\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"For more information about this error, try `rustc --explain E0499`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[1mFor more information about this error, try `rustc --explain E0499`.\u001b[0m\n"}
